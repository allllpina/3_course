<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ú–æ—è —Ä–æ–¥–∏–Ω–∞</title>
  <link rel="stylesheet" href="angularjs-1.6.9-dist/css/w3.css">
  <script src="angularjs-1.6.9-dist/js/angular.min.js"></script>
  <script src="familyApp.js"></script>
  <style>
    form input.ng-untouched,
    form select.ng-untouched {
      box-shadow: inset 5px 0 0 orange;
    }
    input.ng-not-empty {
      background-color: #e6f7ff;
    }
    .table-index {
      font-weight: bold;
      color: #0077cc;
    }
    .hint {
      font-size: 0.9em;
      color: #888;
      display: block;
      margin-bottom: 8px;
    }
  </style>
</head>
<body ng-app="familyApp" ng-controller="familyCtrl">
    <button class="w3-btn w3-green w3-ripple" ng-click="toggleApp()">
        {{ appVisible ? 'üîΩ –ü—Ä–∏—Ö–æ–≤–∞—Ç–∏ –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫' : 'üîº –ü–æ–∫–∞–∑–∞—Ç–∏ –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫' }}
    </button>
    <br><br>
  <div class="w3-container" ng-show="appVisible">
    <h2>–ú–æ—è —Ä–æ–¥–∏–Ω–∞</h2>

    <button class="w3-btn w3-blue w3-ripple" ng-click="sortBy('lastName')">–°–æ—Ä—Ç—É–≤–∞—Ç–∏ –∑–∞ –ø—Ä—ñ–∑–≤–∏—â–µ–º</button>
    <br><br>

    <table class="w3-table w3-bordered w3-striped">
      <tr>
        <th>#</th>
        <th>Edit</th>
        <th>–Ü–º'—è</th>
        <th>–ü—Ä—ñ–∑–≤–∏—â–µ</th>
        <th>–í—ñ–∫</th>
        <th>–°—Ç–∞—Ç—å</th>
        <th>–†–æ–ª—å —É —Å—ñ–º‚Äô—ó</th>
      </tr>
      <tr ng-repeat="member in family | orderBy:sortColumn">
        <td class="table-index">{{ $index + 1 }}</td>
        <td>
          <button class="w3-btn w3-ripple" ng-click="editMember(member.id)">‚úè –†–µ–¥–∞–≥—É–≤–∞—Ç–∏</button>
        </td>
        <td>{{ member.firstName }}</td>
        <td>{{ member.lastName }}</td>
        <td>{{ member.age }}</td>
        <td>{{ member.gender }}</td>
        <td>{{ member.role }}</td>
      </tr>
    </table>

    <br>
    <button class="w3-btn w3-green w3-ripple" ng-click="editMember('new')">‚ûï –î–æ–¥–∞—Ç–∏ –Ω–æ–≤–æ–≥–æ —á–ª–µ–Ω–∞</button>

    <br><br>
    <label class="w3-check">
      <input type="checkbox" ng-model="hideform"> –ü—Ä–∏—Ö–æ–≤–∞—Ç–∏ —Ñ–æ—Ä–º—É ‚Äú–ú–æ—è —Ä–æ–¥–∏–Ω–∞‚Äù
    </label>

    <form ng-hide="hideform">
        <h3 ng-show="isNew">–î–æ–¥–∞—Ç–∏ –Ω–æ–≤–æ–≥–æ —á–ª–µ–Ω–∞ —Å—ñ–º'—ó</h3>
        <h3 ng-hide="isNew">–†–µ–¥–∞–≥—É–≤–∞—Ç–∏ —á–ª–µ–Ω–∞ —Å—ñ–º'—ó</h3>
    
        <label>–Ü–º'—è:</label>
        <input class="w3-input w3-border" type="text" ng-model="firstName" ng-keyup="firstnameHint = '‚úÖ –Ü–º‚Äô—è –≤–≤–µ–¥–µ–Ω–æ'">
        <div>{{firstnameHint}}</div>
        <!-- <div class="w3-text-green" ng-show="hints.firstName">{{message}}</div> -->
    
        <label>–ü—Ä—ñ–∑–≤–∏—â–µ:</label>
        <input class="w3-input w3-border" type="text" ng-model="lastName" ng-keyup="lastnameHint = '‚úÖ –ü—Ä—ñ–∑–≤–∏—â–µ –≤–≤–µ–¥–µ–Ω–æ'">
        <div>{{lastnameHint}}</div>
        <!-- <div class="w3-text-green" ng-show="hints.lastName">‚úÖ –ü—Ä—ñ–∑–≤–∏—â–µ –≤–≤–µ–¥–µ–Ω–æ</div> -->
    
        <label>–í—ñ–∫:</label>
        <input class="w3-input w3-border" type="number" ng-model="age" ng-keyup="checkHint('age')">
        <div class="w3-text-green" ng-show="hints.age">‚úÖ –í—ñ–∫ –≤–≤–µ–¥–µ–Ω–æ</div>
    
        <label>–°—Ç–∞—Ç—å:</label>
        <select class="w3-select w3-border" ng-model="gender">
            <option value="–ß–æ–ª–æ–≤—ñ—á–∞">–ß–æ–ª–æ–≤—ñ—á–∞</option>
            <option value="–ñ—ñ–Ω–æ—á–∞">–ñ—ñ–Ω–æ—á–∞</option>
        </select>
    
        <label>–†–æ–ª—å —É —Å—ñ–º'—ó:</label>
        <select class="w3-select w3-border" ng-model="role" ng-options="role for role in roles">
            <option value="">–û–±–µ—Ä—ñ—Ç—å —Ä–æ–ª—å</option>
        </select>
        <span class="w3-text-green" ng-show="role">‚úÖ –†–æ–ª—å –æ–±—Ä–∞–Ω–∞</span>
    
        <br>
        <button class="w3-btn w3-green w3-ripple" ng-click="saveMember()">‚úî –ó–±–µ—Ä–µ–≥—Ç–∏</button>
    </form>
    

    <h3>–û–±–µ—Ä—ñ—Ç—å —á–ª–µ–Ω–∞ —Å—ñ–º'—ó (ng-repeat)</h3>
    <select class="w3-select w3-border" ng-model="selectedMember1">
      <option value="">–û–±–µ—Ä—ñ—Ç—å</option>
      <option ng-repeat="member in family" ng-value="member">
        {{member.firstName}} {{member.lastName}}
      </option>
    </select>

    <h3>–í–∏ –æ–±—Ä–∞–ª–∏:</h3>
    <h2>
      –Ü–º'—è: {{selectedMember1.firstName}}, 
      –ü—Ä—ñ–∑–≤–∏—â–µ: {{selectedMember1.lastName}}, 
      –í—ñ–∫: {{selectedMember1.age}}, 
      –°—Ç–∞—Ç—å: {{selectedMember1.gender}}, 
      –†–æ–ª—å: {{selectedMember1.role}}
    </h2>

    <h3>–û–±–µ—Ä—ñ—Ç—å —á–ª–µ–Ω–∞ —Å—ñ–º'—ó (ng-options)</h3>
    <select class="w3-select w3-border" ng-model="selectedMember2" ng-options="y.role for (x, y) in family2">
      <option value="">–û–±–µ—Ä—ñ—Ç—å —Ä–æ–ª—å</option>
    </select>

    <h2>–Ü–º'—è: {{selectedMember2.firstName}} {{selectedMember2.lastName}}</h2>
    <h3>–í—ñ–∫: {{selectedMember2.age}}</h3>
    <h3>–°—Ç–∞—Ç—å: {{selectedMember2.gender}}</h3>
  </div>
</body>
</html>
